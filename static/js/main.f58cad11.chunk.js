(this["webpackJsonppct-react-app"]=this["webpackJsonppct-react-app"]||[]).push([[0],{164:function(t,e,n){},165:function(t,e,n){},174:function(t,e,n){"use strict";n.r(e);var r=n(3),a=n.n(r),i=n(52),c=n.n(i),o=(n(164),n(165),n(5)),s=n(6),u=n(7),h=n(8),l=n(1),d=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var t=this.props,e=t.chartId,n=t.stdDeviation,r=t.floodColor,a=t.floodOpacity;return Object(l.jsx)("defs",{children:Object(l.jsxs)("filter",{id:e,children:[Object(l.jsx)("feOffset",{dx:"0",dy:"0"}),Object(l.jsx)("feGaussianBlur",{stdDeviation:n,result:"offset-blur"}),Object(l.jsx)("feComposite",{operator:"out",in:"SourceGraphic",in2:"offset-blur",result:"inverse"}),Object(l.jsx)("feFlood",{floodColor:r,floodOpacity:a,result:"color"}),Object(l.jsx)("feComposite",{operator:"in",in:"color",in2:"inverse",result:"shadow"}),Object(l.jsx)("feComposite",{operator:"over",in:"shadow",in2:"SourceGraphic"})]})})}}]),n}(r.Component),f=n(12),p=n(4),j=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t,r){var a;return Object(o.a)(this,n),(a=e.call(this,t,r)).renderGrid=a.renderGrid.bind(Object(f.a)(a)),a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.renderGrid()}},{key:"componentDidUpdate",value:function(){this.renderGrid()}},{key:"renderGrid",value:function(){var t=this.props.grid,e=this.refs.grid;p.o(e).call(t)}},{key:"render",value:function(){return Object(l.jsx)("g",{ref:"grid",className:"y-grid"})}}]),n}(r.Component),b=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t,r){var a;return Object(o.a)(this,n),(a=e.call(this,t,r)).renderAxis=a.renderAxis.bind(Object(f.a)(a)),a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.renderAxis()}},{key:"componentDidUpdate",value:function(){this.renderAxis()}},{key:"renderAxis",value:function(){var t=this.props.axis,e=this.refs.axis;p.o(e).call(t)}},{key:"render",value:function(){var t=this.props,e=t.axisType,n="translate(0,"+t.h+")";return Object(l.jsx)("g",{ref:"axis",className:"axis",transform:"x"===e?n:""})}}]),n}(r.Component),v=n(27),O=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var t=this.props,e=t.x,n=t.y,r=t.showTooltip,a=t.hideTooltip,i=t.data,c=Object(v.a)(i);c.shift(),c.pop();var o=p.p("%B %d, %Y"),s=c.map((function(t,i){return Object(l.jsx)("circle",{className:"dot",r:"5",cx:e(t.date),cy:n(t.count),fill:"#7dc7f4",stroke:"#313131",strokeWidth:"1px",onMouseOver:r,onMouseOut:a,"data-key":o(t.date),"data-value":t.count},i)}));return Object(l.jsx)("g",{children:s})}}]),n}(r.Component),m=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var t=this.props.tooltip;if(!t.display)return null;var e,n,r="",a=150,i=70,c="",o=t.pos;return isNaN(o.x)&&console.info("Dupa"),e=o.x,(n=o.y)>172?(r="translate("+(e-75)+","+(n-i-20)+")",c="translate(55,68)"):n<172&&(r="translate("+(e-75)+","+(Math.round(n)+20)+")",c="translate(55,0) rotate(180,20,0)"),Object(l.jsxs)("g",{transform:r,className:"svg-tooltip",children:[Object(l.jsx)("rect",{className:"shadow",width:a,height:i,rx:"5",ry:"5",fill:"rgb(125, 199, 244)",opacity:".9"}),Object(l.jsx)("polygon",{className:"shadow",points:"10,0  30,0  20,10",transform:c,fill:"rgb(125, 199, 244)",opacity:".9"}),Object(l.jsxs)("text",{transform:"translate(75,30)",children:[Object(l.jsx)("tspan",{x:"0",textAnchor:"middle",fontSize:"15px",fill:"#ffffff",children:t.data.key}),Object(l.jsx)("tspan",{x:"0",textAnchor:"middle",dy:"25",fontSize:"20px",fill:"#a9f3ff",children:t.data.value+" visits"})]})]})}}]),n}(r.Component),x=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t,r){var a;return Object(o.a)(this,n),(a=e.call(this,t,r)).showTooltip=a.showTooltip.bind(Object(f.a)(a)),a.hideTooltip=a.hideTooltip.bind(Object(f.a)(a)),a.state={tooltip:{display:!1,data:{key:"",value:""},pos:{}}},a}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.width,r=e.height,a=e.data,i=!1,c=this.getSparklineInfos(n,r,a).line,o=p.o(this.refs.pathSparkline).data([a]);if(JSON.stringify(a)===JSON.stringify(t.data)){if(t.width&&n!==t.width)return void o.attr("d",c);if(t.width||(i=!0),!i)return}o.exit().remove(),o.enter().append("path").classed("sparkline",!0).merge(o).attr("d",c).attr("stroke-dasharray",(function(t){return t.length})).attr("stroke-dashoffset",(function(t){return t.length})).transition().duration(2e3).attr("stroke-dashoffset","0").on("end",(function(t,e,n){n[0].attributes.removeNamedItem("stroke-dasharray"),n[0].attributes.removeNamedItem("stroke-dashoffset")}))}},{key:"getSparklineInfos",value:function(t,e,n){var r=5,a=50,i=t-(a+50),c=e-(r+20),o="translate("+a+","+r+")",s=p.n().domain(p.e(n,(function(t){return t.date}))).rangeRound([0,i]),u=p.m().domain([p.i(n,(function(t){return t.count-1})),p.h(n,(function(t){return t.count+1}))]).range([c,0]),h=p.g().x((function(t){return s(t.date)})).y((function(t){return u(t.count)})).curve(p.d.alpha(.5));return{h:c,x:s,y:u,w:i,line:h,transform:o}}},{key:"showTooltip",value:function(t){this.setState({tooltip:{display:!0,data:{key:t.target.getAttribute("data-key"),value:t.target.getAttribute("data-value")},pos:{x:t.target.getAttribute("cx"),y:t.target.getAttribute("cy")}}})}},{key:"hideTooltip",value:function(t){t.target.setAttribute("fill","#7dc7f4"),this.setState({tooltip:{display:!1,data:{key:"",value:""},pos:{}}})}},{key:"render",value:function(){var t=this.props,e=t.chartId,n=t.width,r=t.height,a=t.data,i=this.state.tooltip,c=this.getSparklineInfos(n,r,a),o=c.h,s=c.x,u=c.y,h=c.w,d=c.transform,f=p.p("%H:%M:%S"),v=p.b(s).tickFormat((function(t){return f(t)})).tickValues(a.map((function(t,e){return e>0?t.date:null})).splice(1)).ticks(5),x=p.c(u).ticks(5),g=p.c(u).ticks(5).tickSizeInner(-h).tickFormat("");return Object(l.jsx)("svg",{ref:"Sparkline",id:e,width:n,height:r,children:Object(l.jsxs)("g",{transform:d,children:[Object(l.jsx)("path",{ref:"pathSparkline",className:"line shadow",strokeLinecap:"round"}),Object(l.jsx)(O,{data:a,x:s,y:u,showTooltip:this.showTooltip,hideTooltip:this.hideTooltip}),Object(l.jsx)(m,{tooltip:i}),Object(l.jsx)(j,{grid:g}),Object(l.jsx)(b,{h:o,axis:x,axisType:"y"}),Object(l.jsx)(b,{h:o,axis:v,axisType:"x"})]})})}}]),n}(r.Component),g=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t,r){var a;return Object(o.a)(this,n),(a=e.call(this,t,r)).currentPercent=void 0,a.currentPercent=0,a}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(){var t=this,e=this.props,n=e.width,r=e.height,a=e.data,i=r/2-10,c=i-20,o="translate("+n/2+","+r/2+")",s=p.a().innerRadius(c).outerRadius(i).cornerRadius(10).startAngle(-.05),u=p.o(this.refs.ProgressChart).select("g").attr("transform",o).selectAll("path.arcLine").data(a,0);u.exit().remove(),u.enter().append("path").attr("fill",(function(t){return t.color[1]})).attr("class","arcLine").attr("style",{filter:"url(#inset-shadow2)"}).merge(u).transition().duration(2e3).attrTween("d",(function(e){var n=2*Math.PI*e.percent,r=p.f({endAngle:t.currentPercent},{endAngle:n});return t.currentPercent=n,function(t){return s(r(t))}}))}},{key:"render",value:function(){var t=this.props,e=t.chartId,n=t.width,r=t.height,a=t.data,i=r/2-10,c=i-20,o=p.a().innerRadius(c).outerRadius(i).startAngle(0).endAngle(2*Math.PI);return Object(l.jsx)("div",{children:Object(l.jsx)("svg",{ref:"ProgressChart",id:e,width:n,height:r,children:Object(l.jsxs)("g",{children:[Object(l.jsx)(d,{chartId:"inset-shadow1",stdDeviation:"15",floodColor:"black",floodOpacity:".5"}),Object(l.jsx)(d,{chartId:"inset-shadow2",stdDeviation:"15",floodColor:"white",floodOpacity:".8"}),Object(l.jsx)("circle",{r:c,cx:"0",cy:"0",fill:a[0].color[2],fillOpacity:"0.5"}),Object(l.jsx)("text",{textAnchor:"middle",dy:"15",dx:"5",fill:p.k(a[0].color[1]).brighter(2).toString(),style:{fontSize:"40px",fontColor:"#99d5e6"},children:Math.floor(100*a[0].percent)+"%"}),Object(l.jsx)("path",{className:"backgroundProgress",fill:a[0].color[0],d:o(),style:{filter:"url(#inset-shadow1)"}})]})})})}}]),n}(r.Component),y=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(){var t=this.props,e=t.width,n=t.height,r=t.data,a=5,i=5,c=n-(a+i),o="translate("+5+","+a+")",s=p.l().domain(r.map((function(t){return t.month}))).rangeRound([0,e]).padding(.5),u=p.m().domain([0,100]).rangeRound([n,0]),h=p.o(this.refs.BarChart).select("g").attr("transform",o),l=h.selectAll("rect.behind").data(r),d=h.selectAll("rect.shadow").data(r);l.exit().remove(),d.exit().remove(),l.enter().append("rect").attr("fill","#58657f").attr("rx","3").attr("ry","3").attr("class","behind").attr("key",(function(t,e){return"behind-"+e})).attr("y",a-i).attr("height",c).merge(l).attr("x",(function(t){return s(t.month)})).attr("width",s.bandwidth()),d.enter().append("rect").attr("fill","#74d3eb").attr("rx","3").attr("ry","3").attr("class","shadow").attr("key",(function(t,e){return"shadow-"+e})).attr("y",(function(t){return u(t.value)+(c-u(t.value))})).attr("height",0).merge(d).attr("x",(function(t){return s(t.month)})).attr("width",s.bandwidth()).transition().duration(2e3).attr("height",(function(t){return c-u(t.value)})).attr("y",(function(t){return u(t.value)}))}},{key:"render",value:function(){var t=this.props,e=t.chartId,n=t.width,r=t.height;return Object(l.jsx)("svg",{ref:"BarChart",id:e,width:n,height:r,children:Object(l.jsx)("g",{})})}}]),n}(r.Component),w=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var t=this.props,e=t.width,n=t.height,r=t.pie,a=t.data;if(e<=n+180)return null;var i="translate("+e/1.25+", 55)",c=r(a).map((function(t,e){var n="translate(10,"+30*e+")",r={fill:t.data.color,stroke:t.data.color},a={fill:t.data.color};return Object(l.jsxs)("g",{transform:n,children:[Object(l.jsx)("rect",{width:"20",height:"20",style:r,rx:"2",ry:"2"}),Object(l.jsx)("text",{x:"30",y:"15",className:"browser-legend",style:a,children:t.data.name})]},e)}));return Object(l.jsx)("g",{transform:i,children:c})}}]),n}(r.Component),k=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t,r){var a;return Object(o.a)(this,n),(a=e.call(this,t,r)).currentData=void 0,a.currentData={},a}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(){var t=this,e=this.props,n=e.width,r=e.height,a=e.pie,i=e.data,c=r/2,o=r/3.3,s="translate("+(n/2-(n<=r+180?0:n/5))+","+r/2+")",u=p.a().outerRadius(c).innerRadius(o),h=p.o(this.refs.DonutChartPath).attr("transform",s).selectAll("path").data(a(i));h.exit().remove(),h.enter().append("path").attr("fill",(function(t){return t.data.color})).attr("key",(function(t,e){return e})).each((function(e){return t.currentData[e.data.name]={startAngle:e.startAngle,endAngle:e.startAngle}})).merge(h).transition().duration(2e3).attrTween("d",(function(e){var n=p.f(t.currentData[e.data.name],e);return t.currentData[e.data.name]=e,function(t){return u(n(t))}}))}},{key:"render",value:function(){return Object(l.jsx)("g",{ref:"DonutChartPath"})}}]),n}(r.Component),C=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var t=this.props,e=t.chartId,n=t.width,r=t.height,a=t.data,i=p.j().value((function(t){return t.count})).padAngle(.04).sort(null);return Object(l.jsxs)("svg",{id:e,width:n,height:r,children:[Object(l.jsx)(k,{width:n,height:r,pie:i,data:a}),Object(l.jsx)(w,{pie:i,data:a,width:n,height:r})]})}}]),n}(r.Component),A=function t(e,n){Object(o.a)(this,t),this.count=void 0,this.date=void 0,this.count=e,this.date=n},N=(n(51),r.Component,n(36)),S=n(10),D=n.n(S),I=n(16),T=n(9),R=n(26);var M=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(o.a)(this,t),this.connection=void 0,this.connectedCallbacks=void 0,this.connection=(new R.a).withAutomaticReconnect().withUrl(e,n).build(),this.connectedCallbacks=[]}return Object(s.a)(t,[{key:"state",get:function(){return this.connection.state}},{key:"start",value:function(){return this.startInternal()}},{key:"startInternal",value:function(){var t=Object(I.a)(D.a.mark((function t(){var e=this;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.connection.start();case 2:this.connectedCallbacks.forEach((function(t){return t.apply(e,[e.connection.connectionId])}));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"stop",value:function(){return this.connection.stop()}},{key:"on",value:function(t,e){this.connection.on(t,e)}},{key:"off",value:function(t){this.connection.off(t)}},{key:"get",value:function(t,e){return this.connection.invoke("GetAsync",t,e)}},{key:"post",value:function(t,e){return this.connection.send("PostAsync",t,e)}},{key:"onclose",value:function(t){this.connection.onclose(t)}},{key:"onreconnecting",value:function(t){this.connection.onreconnecting(t)}},{key:"onreconnected",value:function(t){this.connection.onreconnected(t)}},{key:"onconnected",value:function(t){t&&(this.connectedCallbacks.push(t),this.connection.onreconnected(t))}},{key:"stream",value:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(e=this.connection).stream.apply(e,[t].concat(r))}}]),t}(),P=function(t){var e=function(t){var e=r.useState(t),n=Object(T.a)(e,2),a=n[0],i=n[1];return{value:a,onChange:function(t){i(t.target.value)}}}("http://localhost:5009"),n=a.a.useState(null),i=Object(T.a)(n,2),c=i[0],o=i[1],s=a.a.useState(R.b.Disconnected),u=Object(T.a)(s,2),h=u[0],d=u[1],f=a.a.useState([]),p=Object(T.a)(f,2),j=p[0],b=p[1],O=a.a.useRef(j),m=function(){var t=Object(I.a)(D.a.mark((function t(){var n;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new M(e.value+"/hubs/commands/")).onconnected((function(t){return d(n.state)})),n.onclose((function(t){return d(n.state)})),n.onreconnected((function(t){return d(n.state)})),n.onreconnecting((function(t){return d(n.state)})),n.onconnected((function(t){n.off("onTemperature"),n.on("onTemperature",(function(t){var e;e=[].concat(Object(v.a)(O.current.slice(Math.max(O.current.length-20,0))),[new A(t,new Date(Date.now()))]),O.current=e,b(e)}))})),t.prev=6,t.next=9,n.start();case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(6),console.error(t.t0);case 14:o(n);case 15:case"end":return t.stop()}}),t,null,[[6,11]])})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(I.a)(D.a.mark((function t(){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.stop();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=a.a.useState({height:300,width:400}),S=Object(T.a)(k,2),P=S[0],G=S[1],E=a.a.useState({height:200,width:200}),B=Object(T.a)(E,2),J=B[0],U=B[1],z=a.a.useState({height:200,width:200}),F=Object(T.a)(z,2),W=F[0],L=F[1],_=Object(r.useRef)(null),H=Object(r.useRef)(null),V=Object(r.useRef)(null),Y=function(){_&&G({width:_.current.offsetWidth,height:_.current.offsetHeight-100}),H&&U({width:H.current.offsetWidth,height:H.current.offsetHeight-100}),V&&L({width:V.current.offsetWidth,height:V.current.offsetHeight-100})};a.a.useEffect((function(){Y()}),[]),a.a.useEffect((function(){return window.addEventListener("resize",Y),function(){window.removeEventListener("resize",Y)}}));return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"main",children:[Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("label",{children:"Endpoint IP:"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("input",Object(N.a)(Object(N.a)({type:"text",name:"name"},e),{},{disabled:"Connected"===h})),h&&"Disconnected"===h?Object(l.jsx)("button",{onClick:function(){var t=Object(I.a)(D.a.mark((function t(e){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Start"}):Object(l.jsx)("button",{onClick:function(){var t=Object(I.a)(D.a.mark((function t(e){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Stop"})]}),h]}),Object(l.jsx)("div",{className:"content",children:function(t){return Object(l.jsxs)("div",{className:"column-stretch",children:[Object(l.jsxs)("div",{className:"widget column-stretch",id:"top-line-chart",ref:_,children:[Object(l.jsx)("h3",{className:"title",children:" Temperature"}),Object(l.jsx)(x,{chartId:"sparkline_1",width:P.width,height:P.height,data:j})]}),Object(l.jsx)("div",{className:"column-stretch",children:Object(l.jsxs)("div",{className:"row-stretch",children:[Object(l.jsxs)("div",{className:"widget column-stretch",id:"browser",ref:H,children:[Object(l.jsx)("h3",{className:"title",children:" Top5"}),Object(l.jsx)(C,{chartId:"donutchart_1",width:J.width>40?J.width-40:J.width,height:J.height,data:[]})]}),Object(l.jsxs)("div",{className:"widget column-stretch",id:"ret_visitors",ref:V,children:[Object(l.jsx)("h3",{className:"title",children:" Effectiveness"}),Object(l.jsx)(g,{chartId:"progresschart_1",width:W.width>40?W.width-40:W.width,height:W.height/2,data:t.data.progresschart}),Object(l.jsx)("br",{}),Object(l.jsx)(y,{chartId:"barchart_1",width:W.width>40?W.width-40:W.width,height:W.height/2,data:t.data.barchart})]})]})})]})}({data:{barchart:[{month:"Jan",value:31},{month:"Feb",value:33},{month:"Mar",value:45},{month:"Apr",value:56},{month:"May",value:35},{month:"Jun",value:87},{month:"Jul",value:54},{month:"Aug",value:32},{month:"Sep",value:65},{month:"Oct",value:47},{month:"Nov",value:64},{month:"Dec",value:84}],progresschart:[{percent:.01,color:["#0288D1","#99d5e6","#01579B"]}]}})})]})})};var G=function(){return Object(l.jsx)("div",{className:"main",children:Object(l.jsx)("div",{className:"content",children:Object(l.jsx)(P,{})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(G,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},51:function(t,e,n){}},[[174,1,2]]]);
//# sourceMappingURL=main.f58cad11.chunk.js.map