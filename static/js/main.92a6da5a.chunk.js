(this["webpackJsonppct-react-app"]=this["webpackJsonppct-react-app"]||[]).push([[0],{169:function(t,e,r){},170:function(t,e,r){},177:function(t,e,r){"use strict";r.r(e);var n=r(2),a=r.n(n),i=r(56),c=r.n(i),o=(r(169),r(170),r(14)),s=r(3),u=r.n(s),d=r(16),h=r(11),l=r(6),f=r(25),p=r(20);function j(t){var e=n.useState(t),r=Object(l.a)(e,2),a=r[0],i=r[1];return{value:a,onChange:function(t){i(t.target.value)}}}var b=r(0),v=r(7),O=r(8),m=r(9),x=r(10),g=function(t){Object(m.a)(r,t);var e=Object(x.a)(r);function r(){return Object(v.a)(this,r),e.apply(this,arguments)}return Object(O.a)(r,[{key:"render",value:function(){var t=this.props,e=t.chartId,r=t.stdDeviation,n=t.floodColor,a=t.floodOpacity;return Object(b.jsx)("defs",{children:Object(b.jsxs)("filter",{id:e,children:[Object(b.jsx)("feOffset",{dx:"0",dy:"0"}),Object(b.jsx)("feGaussianBlur",{stdDeviation:r,result:"offset-blur"}),Object(b.jsx)("feComposite",{operator:"out",in:"SourceGraphic",in2:"offset-blur",result:"inverse"}),Object(b.jsx)("feFlood",{floodColor:n,floodOpacity:a,result:"color"}),Object(b.jsx)("feComposite",{operator:"in",in:"color",in2:"inverse",result:"shadow"}),Object(b.jsx)("feComposite",{operator:"over",in:"shadow",in2:"SourceGraphic"})]})})}}]),r}(n.Component),w=r(15),y=r(5),k=function(t){Object(m.a)(r,t);var e=Object(x.a)(r);function r(t,n){var a;return Object(v.a)(this,r),(a=e.call(this,t,n)).renderGrid=a.renderGrid.bind(Object(w.a)(a)),a}return Object(O.a)(r,[{key:"componentDidMount",value:function(){this.renderGrid()}},{key:"componentDidUpdate",value:function(){this.renderGrid()}},{key:"renderGrid",value:function(){var t=this.props.grid,e=this.refs.grid;y.o(e).call(t)}},{key:"render",value:function(){return Object(b.jsx)("g",{ref:"grid",className:"y-grid"})}}]),r}(n.Component),N=function(t){Object(m.a)(r,t);var e=Object(x.a)(r);function r(t,n){var a;return Object(v.a)(this,r),(a=e.call(this,t,n)).renderAxis=a.renderAxis.bind(Object(w.a)(a)),a}return Object(O.a)(r,[{key:"componentDidMount",value:function(){this.renderAxis()}},{key:"componentDidUpdate",value:function(){this.renderAxis()}},{key:"renderAxis",value:function(){var t=this.props.axis,e=this.refs.axis;y.o(e).call(t)}},{key:"render",value:function(){var t=this.props,e=t.axisType,r="translate(0,"+t.h+")";return Object(b.jsx)("g",{ref:"axis",className:"axis",transform:"x"===e?r:""})}}]),r}(n.Component),C=function(t){Object(m.a)(r,t);var e=Object(x.a)(r);function r(t,n){return Object(v.a)(this,r),e.call(this,t,n)}return Object(O.a)(r,[{key:"render",value:function(){var t=this.props,e=t.x,r=t.y,n=t.showTooltip,a=t.hideTooltip,i=t.data,c=Object(d.a)(i);c.shift(),c.pop();var o=y.p("%B %d, %Y"),s=c.map((function(t,i){return Object(b.jsx)("circle",{className:"dot",r:"7",cx:e(t.date),cy:r(t.count),fill:"#7dc7f4",stroke:"#313131",strokeWidth:"5px",onMouseOver:n,onMouseOut:a,"data-key":o(t.date),"data-value":t.count},i)}));return Object(b.jsx)("g",{children:s})}}]),r}(n.Component),D=function(t){Object(m.a)(r,t);var e=Object(x.a)(r);function r(){return Object(v.a)(this,r),e.apply(this,arguments)}return Object(O.a)(r,[{key:"render",value:function(){var t=this.props.tooltip;if(!t.display)return null;var e,r,n="",a=150,i=70,c="",o=t.pos;return NaN==o.x&&console.info("Dupa"),e=o.x,(r=o.y)>172?(n="translate("+(e-75)+","+(r-i-20)+")",c="translate(55,68)"):r<172&&(n="translate("+(e-75)+","+(Math.round(r)+20)+")",c="translate(55,0) rotate(180,20,0)"),Object(b.jsxs)("g",{transform:n,className:"svg-tooltip",children:[Object(b.jsx)("rect",{className:"shadow",width:a,height:i,rx:"5",ry:"5",fill:"rgb(125, 199, 244)",opacity:".9"}),Object(b.jsx)("polygon",{className:"shadow",points:"10,0  30,0  20,10",transform:c,fill:"rgb(125, 199, 244)",opacity:".9"}),Object(b.jsxs)("text",{transform:"translate(75,30)",children:[Object(b.jsx)("tspan",{x:"0",textAnchor:"middle",fontSize:"15px",fill:"#ffffff",children:t.data.key}),Object(b.jsx)("tspan",{x:"0",textAnchor:"middle",dy:"25",fontSize:"20px",fill:"#a9f3ff",children:t.data.value+" visits"})]})]})}}]),r}(n.Component),S=function(t){Object(m.a)(r,t);var e=Object(x.a)(r);function r(t,n){var a;return Object(v.a)(this,r),(a=e.call(this,t,n)).showTooltip=a.showTooltip.bind(Object(w.a)(a)),a.hideTooltip=a.hideTooltip.bind(Object(w.a)(a)),a.state={tooltip:{display:!1,data:{key:"",value:""},pos:{}}},a}return Object(O.a)(r,[{key:"componentDidUpdate",value:function(t){var e=this.props,r=e.width,n=e.height,a=e.data,i=!1,c=this.getSparklineInfos(r,n,a).line,o=y.o(this.refs.pathSparkline).data([a]);if(JSON.stringify(a)===JSON.stringify(t.data)){if(t.width&&r!==t.width)return void o.attr("d",c);if(t.width||(i=!0),!i)return}o.exit().remove(),o.enter().append("path").classed("sparkline",!0).merge(o).attr("d",c).attr("stroke-dasharray",(function(t){return t.length})).attr("stroke-dashoffset",(function(t){return t.length})).transition().duration(2e3).attr("stroke-dashoffset","0").on("end",(function(t,e,r){r[0].attributes.removeNamedItem("stroke-dasharray"),r[0].attributes.removeNamedItem("stroke-dashoffset")}))}},{key:"getSparklineInfos",value:function(t,e,r){var n=5,a=50,i=t-(a+50),c=e-(n+20),o="translate("+a+","+n+")",s=y.n().domain(y.e(r,(function(t){return t.date}))).rangeRound([0,i]),u=y.m().domain([y.i(r,(function(t){return t.count-1})),y.h(r,(function(t){return t.count+1}))]).range([c,0]),d=y.g().x((function(t){return s(t.date)})).y((function(t){return u(t.count)})).curve(y.d.alpha(.5));return{h:c,x:s,y:u,w:i,line:d,transform:o}}},{key:"showTooltip",value:function(t){this.setState({tooltip:{display:!0,data:{key:t.target.getAttribute("data-key"),value:t.target.getAttribute("data-value")},pos:{x:t.target.getAttribute("cx"),y:t.target.getAttribute("cy")}}})}},{key:"hideTooltip",value:function(t){t.target.setAttribute("fill","#7dc7f4"),this.setState({tooltip:{display:!1,data:{key:"",value:""},pos:{}}})}},{key:"render",value:function(){var t=this.props,e=t.chartId,r=t.width,n=t.height,a=t.data,i=this.state.tooltip,c=this.getSparklineInfos(r,n,a),o=c.h,s=c.x,u=c.y,d=c.w,h=c.transform,l=y.b(s).tickValues(a.map((function(t,e){return e>0?t.date:null})).splice(1)).ticks(5),f=y.c(u).ticks(5),p=y.c(u).ticks(5).tickSizeInner(-d).tickFormat("");return Object(b.jsx)("svg",{ref:"Sparkline",id:e,width:r,height:n,children:Object(b.jsxs)("g",{transform:h,children:[Object(b.jsx)("path",{ref:"pathSparkline",className:"line shadow",strokeLinecap:"round"}),Object(b.jsx)(C,{data:a,x:s,y:u,showTooltip:this.showTooltip,hideTooltip:this.hideTooltip}),Object(b.jsx)(D,{tooltip:i}),Object(b.jsx)(k,{grid:p}),Object(b.jsx)(N,{h:o,axis:f,axisType:"y"}),Object(b.jsx)(N,{h:o,axis:l,axisType:"x"})]})})}}]),r}(n.Component),A=function(t){Object(m.a)(r,t);var e=Object(x.a)(r);function r(t,n){var a;return Object(v.a)(this,r),(a=e.call(this,t,n)).currentPercent=void 0,a.currentPercent=0,a}return Object(O.a)(r,[{key:"componentDidUpdate",value:function(){var t=this,e=this.props,r=e.width,n=e.height,a=e.data,i=n/2-10,c=i-20,o="translate("+r/2+","+n/2+")",s=y.a().innerRadius(c).outerRadius(i).cornerRadius(10).startAngle(-.05),u=y.o(this.refs.ProgressChart).select("g").attr("transform",o).selectAll("path.arcLine").data(a,0);u.exit().remove(),u.enter().append("path").attr("fill",(function(t){return t.color[1]})).attr("class","arcLine").attr("style",{filter:"url(#inset-shadow2)"}).merge(u).transition().duration(2e3).attrTween("d",(function(e){var r=2*Math.PI*e.percent,n=y.f({endAngle:t.currentPercent},{endAngle:r});return t.currentPercent=r,function(t){return s(n(t))}}))}},{key:"render",value:function(){var t=this.props,e=t.chartId,r=t.width,n=t.height,a=t.data,i=n/2-10,c=i-20,o=y.a().innerRadius(c).outerRadius(i).startAngle(0).endAngle(2*Math.PI);return Object(b.jsx)("div",{children:Object(b.jsx)("svg",{ref:"ProgressChart",id:e,width:r,height:n,children:Object(b.jsxs)("g",{children:[Object(b.jsx)(g,{chartId:"inset-shadow1",stdDeviation:"15",floodColor:"black",floodOpacity:".5"}),Object(b.jsx)(g,{chartId:"inset-shadow2",stdDeviation:"15",floodColor:"white",floodOpacity:".8"}),Object(b.jsx)("circle",{r:c,cx:"0",cy:"0",fill:a[0].color[2],fillOpacity:"0.5"}),Object(b.jsx)("text",{textAnchor:"middle",dy:"15",dx:"5",fill:y.k(a[0].color[1]).brighter(2).toString(),style:{fontSize:"40px",fontColor:"#99d5e6"},children:Math.floor(100*a[0].percent)+"%"}),Object(b.jsx)("path",{className:"backgroundProgress",fill:a[0].color[0],d:o(),style:{filter:"url(#inset-shadow1)"}})]})})})}}]),r}(n.Component),I=function(t){Object(m.a)(r,t);var e=Object(x.a)(r);function r(){return Object(v.a)(this,r),e.apply(this,arguments)}return Object(O.a)(r,[{key:"componentDidUpdate",value:function(){var t=this.props,e=t.width,r=t.height,n=t.data,a=5,i=5,c=r-(a+i),o="translate("+5+","+a+")",s=y.l().domain(n.map((function(t){return t.month}))).rangeRound([0,e]).padding(.5),u=y.m().domain([0,100]).rangeRound([r,0]),d=y.o(this.refs.BarChart).select("g").attr("transform",o),h=d.selectAll("rect.behind").data(n),l=d.selectAll("rect.shadow").data(n);h.exit().remove(),l.exit().remove(),h.enter().append("rect").attr("fill","#58657f").attr("rx","3").attr("ry","3").attr("class","behind").attr("key",(function(t,e){return"behind-"+e})).attr("y",a-i).attr("height",c).merge(h).attr("x",(function(t){return s(t.month)})).attr("width",s.bandwidth()),l.enter().append("rect").attr("fill","#74d3eb").attr("rx","3").attr("ry","3").attr("class","shadow").attr("key",(function(t,e){return"shadow-"+e})).attr("y",(function(t){return u(t.value)+(c-u(t.value))})).attr("height",0).merge(l).attr("x",(function(t){return s(t.month)})).attr("width",s.bandwidth()).transition().duration(2e3).attr("height",(function(t){return c-u(t.value)})).attr("y",(function(t){return u(t.value)}))}},{key:"render",value:function(){var t=this.props,e=t.chartId,r=t.width,n=t.height;return Object(b.jsx)("svg",{ref:"BarChart",id:e,width:r,height:n,children:Object(b.jsx)("g",{})})}}]),r}(n.Component),T=function(t){Object(m.a)(r,t);var e=Object(x.a)(r);function r(t,n){var a;return Object(v.a)(this,r),(a=e.call(this,t,n)).currentData=void 0,a.currentData={},a}return Object(O.a)(r,[{key:"componentDidUpdate",value:function(){var t=this,e=this.props,r=e.width,n=e.height,a=e.pie,i=e.data,c=n/2,o=n/3.3,s="translate("+(r/2-(r<=n+180?0:r/5))+","+n/2+")",u=y.a().outerRadius(c).innerRadius(o),d=y.o(this.refs.DonutChartPath).attr("transform",s).selectAll("path").data(a(i));d.exit().remove(),d.enter().append("path").attr("fill",(function(t){return t.data.color})).attr("key",(function(t,e){return e})).each((function(e){return t.currentData[e.data.name]={startAngle:e.startAngle,endAngle:e.startAngle}})).merge(d).transition().duration(2e3).attrTween("d",(function(e){var r=y.f(t.currentData[e.data.name],e);return t.currentData[e.data.name]=e,function(t){return u(r(t))}}))}},{key:"render",value:function(){return Object(b.jsx)("g",{ref:"DonutChartPath"})}}]),r}(n.Component),R=function(t){Object(m.a)(r,t);var e=Object(x.a)(r);function r(){return Object(v.a)(this,r),e.apply(this,arguments)}return Object(O.a)(r,[{key:"render",value:function(){var t=this.props,e=t.width,r=t.height,n=t.pie,a=t.data;if(e<=r+180)return null;var i="translate("+e/1.25+", 55)",c=n(a).map((function(t,e){var r="translate(10,"+30*e+")",n={fill:t.data.color,stroke:t.data.color},a={fill:t.data.color};return Object(b.jsxs)("g",{transform:r,children:[Object(b.jsx)("rect",{width:"20",height:"20",style:n,rx:"2",ry:"2"}),Object(b.jsx)("text",{x:"30",y:"15",className:"browser-legend",style:a,children:t.data.name})]},e)}));return Object(b.jsx)("g",{transform:i,children:c})}}]),r}(n.Component),P=function(t){Object(m.a)(r,t);var e=Object(x.a)(r);function r(){return Object(v.a)(this,r),e.apply(this,arguments)}return Object(O.a)(r,[{key:"render",value:function(){var t=this.props,e=t.chartId,r=t.width,n=t.height,a=t.data,i=y.j().value((function(t){return t.count})).padAngle(.04).sort(null);return Object(b.jsxs)("svg",{id:e,width:r,height:n,children:[Object(b.jsx)(T,{width:r,height:n,pie:i,data:a}),Object(b.jsx)(R,{pie:i,data:a,width:r,height:n})]})}}]),r}(n.Component),M=function t(e,r){Object(v.a)(this,t),this.count=void 0,this.date=void 0,this.count=e,this.date=r},E=(r(55),n.Component,function(t){var e=j("http://localhost:5009"),r=a.a.useState(new f.b),i=Object(l.a)(r,1)[0],c=a.a.useState(null),s=Object(l.a)(c,2),v=s[0],O=s[1],m=a.a.useState(p.b.Disconnected),x=Object(l.a)(m,2),g=x[0],w=x[1],y=a.a.useState([]),k=Object(l.a)(y,2),N=k[0],C=k[1],D=(j('\n  {\n    "CustomerName": "ProconTEL team"\n  }'),a.a.useRef(N)),T=function(){var t=Object(h.a)(u.a.mark((function t(){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=i.create(e.value)).onconnected((function(t){return w(r.state)})),r.onclose((function(t){return w(r.state)})),r.onreconnected((function(t){return w(r.state)})),r.onreconnecting((function(t){return w(r.state)})),r.onconnected((function(t){r.off("onTemperature"),r.on("onTemperature",(function(t){var e;e=[].concat(Object(d.a)(D.current),["Received notification: ".concat(JSON.stringify(t),".")]),D.current=e,C(e)}))})),t.prev=6,t.next=9,r.start();case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(6),console.error(t.t0);case 14:O(r);case 15:case"end":return t.stop()}}),t,null,[[6,11]])})));return function(){return t.apply(this,arguments)}}(),R=function(){var t=Object(h.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.stop();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=a.a.useState({height:300,width:400}),G=Object(l.a)(E,2),J=G[0],B=G[1],z=a.a.useState({height:200,width:200}),L=Object(l.a)(z,2),U=L[0],W=L[1],F=a.a.useState({height:200,width:200}),_=Object(l.a)(F,2),H=_[0],V=_[1],Y=Object(n.useRef)(null),$=Object(n.useRef)(null),q=Object(n.useRef)(null),K=function(){Y&&B({width:Y.current.offsetWidth,height:Y.current.offsetHeight-100}),$&&W({width:$.current.offsetWidth,height:$.current.offsetHeight-100}),q&&V({width:q.current.offsetWidth,height:q.current.offsetHeight-100})};a.a.useEffect((function(){K()}),[]),a.a.useEffect((function(){return window.addEventListener("resize",K),function(){window.removeEventListener("resize",K)}}));var Q={data:{barchart:[{month:"Jan",value:31},{month:"Feb",value:33},{month:"Mar",value:45},{month:"Apr",value:56},{month:"May",value:35},{month:"Jun",value:87},{month:"Jul",value:54},{month:"Aug",value:32},{month:"Sep",value:65},{month:"Oct",value:47},{month:"Nov",value:64},{month:"Dec",value:84}],progresschart:[{percent:.01,color:["#0288D1","#99d5e6","#01579B"]}],sparkline:[new M(4,new Date("2017-12-14")),new M(7,new Date("2017-12-15")),new M(12,new Date("2017-12-16")),new M(9,new Date("2017-12-17")),new M(8,new Date("2017-12-18")),new M(1,new Date("2017-12-19"))]}};return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"main",children:[Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("label",{children:"Endpoint IP:"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",Object(o.a)(Object(o.a)({type:"text",name:"name"},e),{},{disabled:"Connected"===g})),g&&"Disconnected"===g?Object(b.jsx)("button",{onClick:function(){var t=Object(h.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Start"}):Object(b.jsx)("button",{onClick:function(){var t=Object(h.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Stop"})]}),g,Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"terminal",children:N.map((function(t,e){return Object(b.jsxs)("pre",{children:[" ",e+1,". ",t]},e)}))})]}),Object(b.jsx)("div",{className:"content",children:function(t){return Object(b.jsxs)("div",{className:"column-stretch",children:[Object(b.jsxs)("div",{className:"widget column-stretch",id:"top-line-chart",ref:Y,children:[Object(b.jsx)("h3",{className:"title",children:" Observabletimeline"}),Object(b.jsx)(S,{chartId:"sparkline_1",width:J.width,height:J.height,data:t.data.sparkline})]}),Object(b.jsx)("div",{className:"column-stretch",children:Object(b.jsxs)("div",{className:"row-stretch",children:[Object(b.jsxs)("div",{className:"widget column-stretch",id:"browser",ref:$,children:[Object(b.jsx)("h3",{className:"title",children:" Top5"}),Object(b.jsx)(P,{chartId:"donutchart_1",width:U.width>40?U.width-40:U.width,height:U.height,data:[]})]}),Object(b.jsxs)("div",{className:"widget column-stretch",id:"ret_visitors",ref:q,children:[Object(b.jsx)("h3",{className:"title",children:" Effectiveness"}),Object(b.jsx)(A,{chartId:"progresschart_1",width:H.width>40?H.width-40:H.width,height:H.height/2,data:t.data.progresschart}),Object(b.jsx)("br",{}),Object(b.jsx)(I,{chartId:"barchart_1",width:H.width>40?H.width-40:H.width,height:H.height/2,data:t.data.barchart})]})]})})]})}(Q)})]})})});var G=function(){return Object(b.jsx)("div",{className:"main",children:Object(b.jsx)("div",{className:"content",children:Object(b.jsx)(E,{})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(G,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},55:function(t,e,r){}},[[177,1,2]]]);
//# sourceMappingURL=main.92a6da5a.chunk.js.map